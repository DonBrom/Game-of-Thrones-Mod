namespace = GOT_GOVERNMENT

# On Death election
country_event = {
	id = GOT_GOVERNMENT.1
	title = GOT_GOVERNMENT.1.title
	desc = GOT_GOVERNMENT.1.desc
	picture = IMPORTANT_STATUE_eventPicture
	
	is_triggered_only = yes

	trigger = {
		government = republic
		NOT = { has_reform = volantis_city_reform }
	}
	
	option = {
		name = GOT_GOVERNMENT.1.option.a

		define_ruler = {
			adm = 4
			dip = 1
			mil = 1
			hide_skills = yes
		}
		
        add_republican_tradition = 5
        
		if = {
			limit = { has_estate = estate_commoners }
				
			add_estate_loyalty = {
				estate = estate_commoners
				loyalty = 5
			}
		}
		
        hidden_effect = { country_event = { id = GOT_EDUCATION.2 days = 1 } }
        
		ai_chance = {
			factor = 100
		}
	}
	
	option = {
		name = GOT_GOVERNMENT.1.option.b

		define_ruler = {
			adm = 1
			dip = 4
			mil = 1
			hide_skills = yes
		}

        add_republican_tradition = 5
        
		if = {
			limit = { has_estate = estate_merchants }
				
			add_estate_loyalty = {
				estate = estate_merchants
				loyalty = 5
			}
		}
		
        hidden_effect = { country_event = { id = GOT_EDUCATION.2 days = 1 } }
        
		ai_chance = {
			factor = 100
		}
	}
	
	option = {
		name = GOT_GOVERNMENT.1.option.c

		define_ruler = {
			adm = 1
			dip = 1
			mil = 4
			hide_skills = yes
		}
		
        add_republican_tradition = 5
        
		if = {
			limit = { has_estate = estate_nobles }
				
			add_estate_loyalty = {
				estate = estate_nobles
				loyalty = 5
			}
		}
		
        hidden_effect = { country_event = { id = GOT_EDUCATION.2 days = 1 } }
        
		ai_chance = {
			factor = 100
		}
	}
}

# On Term Election
country_event = {
	id = GOT_GOVERNMENT.2
	title = GOT_GOVERNMENT.2.title
    desc = GOT_GOVERNMENT.2.desc
	picture = ELECTION_REPUBLICAN_eventPicture
	
	is_triggered_only = yes
	
	trigger = {
		government = republic
        NOT = { has_reform = volantis_city_reform }
	}

	option = {
		name = GOT_GOVERNMENT.2.option.a
		ai_chance = { factor = 20 }
        
		define_ruler = {
			adm = 4
			dip = 1
			mil = 1
			hide_skills = yes
		}
        
        add_republican_tradition = 5
        
        hidden_effect = { country_event = { id = GOT_EDUCATION.2 days = 1 } }
	}
	option = {
		name = GOT_GOVERNMENT.2.option.b
		ai_chance = { factor = 20 }
        
		define_ruler = {
			adm = 1
			dip = 4
			mil = 1
			hide_skills = yes
		}

        add_republican_tradition = 5
        
        hidden_effect = { country_event = { id = GOT_EDUCATION.2 days = 1 } }
	}
	option = {
		name = GOT_GOVERNMENT.2.option.c
		ai_chance = { factor = 20 }
        
		define_ruler = {
			adm = 1
			dip = 1
			mil = 4
			hide_skills = yes
		}
        
        add_republican_tradition = 5
        
        hidden_effect = { country_event = { id = GOT_EDUCATION.2 days = 1 } }
	}
    option = {
		name = GOT_GOVERNMENT.2.option.d
        
		trigger = {
			has_regency = no
		}
		ai_chance = { 
			factor = 60
			modifier = {
				factor = 0
				NOT = { republican_tradition = 25 }
			}	
			modifier = {
				factor = 0.5
				NOT = { republican_tradition = 50 }
			}				
			modifier = {
				factor = 0.5
				NOT = { republican_tradition = 75 }
			}	
			modifier = {
				factor = 2.0
				republican_tradition = 90
			}		
		}
		custom_tooltip = remains_ruler_tt
		change_adm = 1
		change_dip = 1
		change_mil = 1
        
		if = {
			limit = {
				is_free_city_government = yes
				NOT = { republican_tradition = 20 }
			}
			add_stability = -1
		}	
        
		add_scaled_republican_tradition = -10
        
		random_list = {
			10 = {
				add_adm_power = 50
			}
			10 = {
				add_dip_power = 50
			}
			10 = {
				add_mil_power = 50
			}
		}
	}
}

# On Replace Governor
country_event = {
	id = GOT_GOVERNMENT.3
	title = GOT_GOVERNMENT.3.title
	desc = GOT_GOVERNMENT.3.desc
	picture = ELECTION_REPUBLICAN_eventPicture
	
	is_triggered_only = yes
	
	option = {
		name = GOT_GOVERNMENT.3.option.a
		ai_chance = { factor = 20 }
		FROM = {
			define_ruler = {
                adm = 4
                dip = 1
                mil = 1
                hide_skills = yes
            }
			set_ruler_flag = appointed_by_overlord
            
            add_republican_tradition = 5
            
            hidden_effect = { country_event = { id = GOT_EDUCATION.2 days = 1 } }
		}
	}
	option = {
		name = GOT_GOVERNMENT.3.option.b
		ai_chance = { factor = 20 }
		FROM = {
			define_ruler = {
                adm = 1
                dip = 4
                mil = 1
                hide_skills = yes
            }
			set_ruler_flag = appointed_by_overlord
            
            add_republican_tradition = 5
            
            hidden_effect = { country_event = { id = GOT_EDUCATION.2 days = 1 } }
		}
	}
	option = {
		name = GOT_GOVERNMENT.3.option.c
		ai_chance = { factor = 20 }
		FROM = {
			define_ruler = {
                adm = 1
                dip = 1
                mil = 4
                hide_skills = yes
            }
			set_ruler_flag = appointed_by_overlord
            
            add_republican_tradition = 5
            
            hidden_effect = { country_event = { id = GOT_EDUCATION.2 days = 1 } }
		}
	}
}
