namespace = GOT_SUMMER_WINTER

country_event = {
	id = GOT_SUMMER_WINTER.10
	title = GOT_SUMMER_WINTER.10.title
	desc = GOT_SUMMER_WINTER.10.desc
	picture = FEAST_eventPicture
	
	is_triggered_only = yes
	major = yes
	
	trigger = {
		ai = no
        NOT = { has_global_flag = setup_summer_winter }
	}

    immediate = {
        set_global_flag = setup_summer_winter
    }
    
	option = {
		name = GOT_SUMMER_WINTER.10.option.a
	
        hidden_effect = {
            set_global_flag = in_summer
            REB = {
                set_variable = {
                    which = global_temp
                    value = 0
                }
            }
        }
        custom_tooltip = "Summer has started!"
	}
}

# Summers Starts
country_event = {
	id = GOT_SUMMER_WINTER.1
	title = GOT_SUMMER_WINTER.1.title
	desc = GOT_SUMMER_WINTER.1.desc
	picture = FEAST_eventPicture
	
	major = yes
	
	trigger = {
		has_global_flag = in_winter
        REB = {
            NOT = {
                check_variable = {
                    which = global_temp
                    value = 1
                }
            }
        }
	}
	
	option = {
		name = GOT_SUMMER_WINTER.1.option.a
	
		set_global_flag = in_summer
		clr_global_flag = in_winter
	}
}

# Winter Starts
country_event = {
	id = GOT_SUMMER_WINTER.2
	title = GOT_SUMMER_WINTER.2.title
	desc = GOT_SUMMER_WINTER.2.desc
	picture = FAMINE_eventPicture
	
	major = yes
	
	trigger = {
		has_global_flag = in_summer
        REB = {
            check_variable = {
                which = global_temp
                value = 100
            }
        }
	}
	
	option = {
		name = GOT_SUMMER_WINTER.2.option.a
	
		set_global_flag = in_winter
		clr_global_flag = in_summer
	}
}

# Incremental change, so player can plan
# Cold winds are blowing...
country_event = {
	id = GOT_SUMMER_WINTER.5
	title = GOT_SUMMER_WINTER.5.title
	desc = GOT_SUMMER_WINTER.5.desc
	picture = FAMINE_eventPicture
	
	is_triggered_only = yes
	major = yes
	
	trigger = {
		has_global_flag = in_summer
	}
    
    mean_time_to_happen = {
		days = 1
	}
	
	option = {
		name = GOT_SUMMER_WINTER.5.option.a
	
        hidden_effect = {
            REB = {
                change_variable = {
                    which = global_temp
                    value = 5
                }
            }
        }
        custom_tooltip = "A winter will soon be coming..."
	}
}
# An early frost...
country_event = {
	id = GOT_SUMMER_WINTER.6
	title = GOT_SUMMER_WINTER.6.title
	desc = GOT_SUMMER_WINTER.6.desc
	picture = FAMINE_eventPicture
	
	is_triggered_only = yes
	major = yes
	
	trigger = {
		has_global_flag = in_summer
	}
    
    mean_time_to_happen = {
		days = 1
	}
	
	option = {
		name = GOT_SUMMER_WINTER.6.option.a
	
        hidden_effect = {
            REB = {
                change_variable = {
                    which = global_temp
                    value = 10
                }
            }
        }
        custom_tooltip = "A winter will soon be upon us..."
	}
}

# Warm winds are blowing...
country_event = {
	id = GOT_SUMMER_WINTER.7
	title = GOT_SUMMER_WINTER.7.title
	desc = GOT_SUMMER_WINTER.7.desc
	picture = FEAST_eventPicture
	
	is_triggered_only = yes
	major = yes
	
	trigger = {
		has_global_flag = in_winter
	}
    
    mean_time_to_happen = {
		days = 1
	}
	
	option = {
		name = GOT_SUMMER_WINTER.7.option.a
	
        hidden_effect = {
            REB = {
                change_variable = {
                    which = global_temp
                    value = -5
                }
            }
        }
        custom_tooltip = "Winter is dissipating..."
	}
}

# Frost thaws...
country_event = {
	id = GOT_SUMMER_WINTER.8
	title = GOT_SUMMER_WINTER.8.title
	desc = GOT_SUMMER_WINTER.8.desc
	picture = FEAST_eventPicture
	
	is_triggered_only = yes
	major = yes
	
	trigger = {
		has_global_flag = in_winter
	}
    
    mean_time_to_happen = {
		days = 1
	}
	
	option = {
		name = GOT_SUMMER_WINTER.8.option.a
	
        hidden_effect = {
            REB = {
                change_variable = {
                    which = global_temp
                    value = -10
                }
            }
        }
        custom_tooltip = "Winter is dissipating..."
	}
}

# White Walkers!
country_event = {
	id = GOT_SUMMER_WINTER.3
	title = GOT_SUMMER_WINTER.3.title
	desc = GOT_SUMMER_WINTER.3.desc
	picture = FAMINE_eventPicture
	
	is_triggered_only = yes
	
	trigger = {
		capital_scope = {
			OR = {
				region = region_beyond_the_wall
				region = region_nights_watch
				region = region_the_north
				region = region_riverlands
				region = region_crownlands
				region = region_stormlands
				region = region_iron_islands
				region = region_vale
				region = region_reach
				region = region_westerlands
			}
		}
	}
	
	option = {
		name = GOT_SUMMER_WINTER.3.option.a
	
		random_owned_province = {
			white_walker_rebels = 1
		}
	}
}

# White Walkers!
country_event = {
	id = GOT_SUMMER_WINTER.4
	title = GOT_SUMMER_WINTER.4.title
	desc = GOT_SUMMER_WINTER.4.desc
	picture = FAMINE_eventPicture
	
	is_triggered_only = yes
	
	trigger = {
		capital_scope = {
			OR = {
				region = region_beyond_the_wall
				region = region_nights_watch
				region = region_the_north
			}
		}
	}
	
	option = {
		name = GOT_SUMMER_WINTER.4.option.a
	
		random_owned_province = {
			white_walker_rebels = 2
		}
	}
}