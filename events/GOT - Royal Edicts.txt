namespace = GOT_ROYAL_EDICTS

# Royal Influence Monthly Tick
country_event = {
	id = GOT_ROYAL_EDICTS.1
	title = GOT_ROYAL_EDICTS.1.title
	desc = GOT_ROYAL_EDICTS.1.desc
	picture = ASSASSINATION_eventPicture
	
    hidden = yes
    
    trigger = {
        NOT = { has_global_flag = edict_unite_the_seven_kingdoms }
        has_country_flag = processor
    }

    mean_time_to_happen = {
        days = 30
    }
    
    option = {
        name = GOT_ROYAL_EDICTS.7.option.a

        every_country = {
            limit = { has_reform = royal_house_reform }
            
            # Base
            change_variable = { which = royal_influence value = 1 }
            
            if = {
                limit = {
                    has_idea = got_law_ideas_6
                }
                change_variable = { which = royal_influence value = 1 }
            }
            if = {
                limit = {
                    has_idea = got_dynastic_ideas_3
                }
                change_variable = { which = royal_influence value = 1 }
            }
            if = {
                limit = {
                    has_idea = got_subjugation_ideas_2
                }
                change_variable = { which = royal_influence value = 1 }
            }
        }
    }  
}

# War Won
country_event = {
	id = GOT_ROYAL_EDICTS.2
	title = GOT_ROYAL_EDICTS.2.title
	desc = GOT_ROYAL_EDICTS.2.desc
	picture = GOOD_WITH_MONARCH_eventPicture
	
    is_triggered_only = yes
    
    trigger = {
        NOT = { has_global_flag = edict_unite_the_seven_kingdoms }
        has_reform = royal_house_reform
    }
    
    option = {
        name = GOT_ROYAL_EDICTS.2.option.a

        change_variable = { which = royal_influence value = 50 }
    }  
}

# War Lost
country_event = {
	id = GOT_ROYAL_EDICTS.3
	title = GOT_ROYAL_EDICTS.3.title
	desc = GOT_ROYAL_EDICTS.3.desc
	picture = BAD_WITH_MONARCH_eventPicture
	
    is_triggered_only = yes
    
    trigger = {
        NOT = { has_global_flag = edict_unite_the_seven_kingdoms }
        has_reform = royal_house_reform
    }
    
    option = {
        name = GOT_ROYAL_EDICTS.3.option.a

        if = {
            limit = {
                check_variable = { which = royal_influence value = 50 }
            }
            subtract_variable = { which = royal_influence value = -50 }
        }
        else = {
            set_variable = { which = royal_influence value = 0 }
        }
    }  
}

# New Monarch
country_event = {
	id = GOT_ROYAL_EDICTS.4
	title = GOT_ROYAL_EDICTS.4.title
	desc = GOT_ROYAL_EDICTS.4.desc
	picture = GOOD_WITH_MONARCH_eventPicture
	
    is_triggered_only = yes
    
    trigger = {
        NOT = { has_global_flag = edict_unite_the_seven_kingdoms }
        has_reform = royal_house_reform
        is_female = no
        adm = 3
        dip = 3
        mil = 3
        NOT = {
            adm = 5
            dip = 5
            mil = 5
        }
    }
    
    option = {
        name = GOT_ROYAL_EDICTS.4.option.a

        change_variable = { which = royal_influence value = 20 }
    }  
}

# New Monarch - Female
country_event = {
	id = GOT_ROYAL_EDICTS.5
	title = GOT_ROYAL_EDICTS.5.title
	desc = GOT_ROYAL_EDICTS.5.desc
	picture = BAD_WITH_MONARCH_eventPicture
	
    is_triggered_only = yes
    
    trigger = {
        NOT = { has_global_flag = edict_unite_the_seven_kingdoms }
        has_reform = royal_house_reform
        is_female = yes
    }
    
    option = {
        name = GOT_ROYAL_EDICTS.5.option.a

        if = {
            limit = {
                check_variable = { which = royal_influence value = 20 }
            }
            subtract_variable = { which = royal_influence value = -20 }
        }
        else = {
            set_variable = { which = royal_influence value = 0 }
        }
    }  
}

# New Monarch
country_event = {
	id = GOT_ROYAL_EDICTS.6
	title = GOT_ROYAL_EDICTS.6.title
	desc = GOT_ROYAL_EDICTS.6.desc
	picture = GOOD_WITH_MONARCH_eventPicture
	
    is_triggered_only = yes
    
    trigger = {
        NOT = { has_global_flag = edict_unite_the_seven_kingdoms }
        has_reform = royal_house_reform
        is_female = no
        adm = 5
        dip = 5
        mil = 5
    }
    
    option = {
        name = GOT_ROYAL_EDICTS.6.option.a

        change_variable = { which = royal_influence value = 40 }
    }  
}

# Swing
country_event = {
	id = GOT_ROYAL_EDICTS.10
	title = GOT_ROYAL_EDICTS.10.title
	desc = GOT_ROYAL_EDICTS.10.desc
	picture = GOOD_WITH_MONARCH_eventPicture
	
    is_triggered_only = yes
    
    trigger = {
        NOT = { has_global_flag = edict_unite_the_seven_kingdoms }
        has_reform = royal_house_reform
        check_variable = { which = royal_influence value = 50 }
    }
    
    option = {
        name = GOT_ROYAL_EDICTS.10.option.a

        subtract_variable = { which = royal_influence value = -50 }
    } 
    option = {
        name = GOT_ROYAL_EDICTS.10.option.b

        add_years_of_income = -5
    }  
}

# Swing
country_event = {
	id = GOT_ROYAL_EDICTS.11
	title = GOT_ROYAL_EDICTS.11.title
	desc = GOT_ROYAL_EDICTS.11.desc
	picture = GOOD_WITH_MONARCH_eventPicture
	
    is_triggered_only = yes
    
    trigger = {
        NOT = { has_global_flag = edict_unite_the_seven_kingdoms }
        has_reform = royal_house_reform
        check_variable = { which = royal_influence value = 50 }
    }
    
    option = {
        name = GOT_ROYAL_EDICTS.11.option.a

        subtract_variable = { which = royal_influence value = -50 }
    } 
    option = {
        name = GOT_ROYAL_EDICTS.11.option.a

        add_yearly_manpower = -5
    }  
}

# Swing
country_event = {
	id = GOT_ROYAL_EDICTS.12
	title = GOT_ROYAL_EDICTS.12.title
	desc = GOT_ROYAL_EDICTS.12.desc
	picture = GOOD_WITH_MONARCH_eventPicture
	
    is_triggered_only = yes
    
    trigger = {
        NOT = { has_global_flag = edict_unite_the_seven_kingdoms }
        has_reform = royal_house_reform
        check_variable = { which = royal_influence value = 50 }
    }
    
    option = {
        name = GOT_ROYAL_EDICTS.12.option.a

        subtract_variable = { which = royal_influence value = -50 }
    } 
    option = {
        name = GOT_ROYAL_EDICTS.12.option.a

        add_corruption = 5
    }  
}