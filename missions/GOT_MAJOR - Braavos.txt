# braavosi

braavos_trade_essos = {
	
	slot = 4
	generic = no
	ai = yes
	has_country_shield = yes
	
	potential = {
		# Be Braavos
		tag = U25
	}

	braavos_build_influence_in_essos = {
		
		icon = mission_early_game_buildings
		ai = yes
		position = 1
	
		trigger = {
			
			# Braavos
			home_trade_node = {
				trade_share = {
					country = ROOT
					share = 33
				}
			}
			
			num_of_light_ship = 5
			
		}
		
		effect = {
		
			add_country_modifier = {
				name = focusing_on_trade
				duration = -1
			}
		
		}
	
	}
	
	braavos_expand_influence_in_essos = {
		
		icon = mission_galleys_in_port
		ai = yes
		position = 2
		
		required_missions = {
			braavos_build_influence_in_essos
		}
		
		trigger = {
			
			# Braavos
			home_trade_node = {
				trade_share = {
					country = ROOT
					share = 50
				}
			}
		
			# Lorath
			any_active_trade_node = {
			
				province_id = 471
				trade_share = {
					country = ROOT
					share = 25
				}
				
			}
			
			# Pentos
			any_active_trade_node = {
			
				province_id = 406
				trade_share = {
					country = ROOT
					share = 25
				}
				
			}
			
			num_of_light_ship = 15
		
		}
		
		effect = {
		
			add_country_modifier = {
				name = expand_trading_influence
				duration = -1
			}
		
		}
		
	}
	
	braavos_dominate_western_essos = {
	
		icon = mission_invade_island
		ai = yes
		position = 3
		
		required_missions = {
			braavos_expand_influence_in_essos
		}
		
		trigger = {
			
			# Braavos
			home_trade_node = {
				trade_share = {
					country = ROOT
					share = 85
				}
			}
		
			# Lorath
			any_active_trade_node = {
			
				province_id = 471
				trade_share = {
					country = ROOT
					share = 50
				}
				
			}
			
			# Pentos
			any_active_trade_node = {
			
				province_id = 406
				trade_share = {
					country = ROOT
					share = 50
				}
				
			}
			
			# Myr
			any_active_trade_node = {
			
				province_id = 378
				trade_share = {
					country = ROOT
					share = 25
				}
				
			}
			
			# Tyrosh
			any_active_trade_node = {
			
				province_id = 367
				trade_share = {
					country = ROOT
					share = 25
				}
				
			}
			
			num_of_light_ship = 30
			
		}
		
		effect = {
			add_country_modifier = {
				name = dominating_trade
				duration = -1
			}
		}
	
	}
	
	braavos_control_northern_trade = {
	
		icon = mission_dominate_home_trade_node
		ai = yes
		position = 4
		
		required_missions = { braavos_dominate_western_essos }
		
		trigger = {
		
			# Qohor 476
			any_active_trade_node = {
			
				province_id = 476
				trade_share = {
					country = ROOT
					share = 50
				}
				
			}
			
			# Saath 544
			any_active_trade_node = {
			
				province_id = 544
				trade_share = {
					country = ROOT
					share = 25
				}
				
			}
		
		}
		
		effect = {
		
			add_country_modifier = {
			
				name = expand_trading_influence
				duration = -1
			
			}
		
		}
	
	}
	
	braavos_be_naval_superpower = {
	
		icon = mission_establish_high_seas_navy
		ai = yes
		position = 5
		
		required_missions = { braavos_control_northern_trade }
		
		trigger = {
		
			ROOT = {
				
				all_country = {
				
					NOT = {
					
						naval_forcelimit = ROOT
					
					}
				
				}
			
			}
		
		}
		
		effect = {
		
			add_country_modifier = {
			
				name = naval_focus
				duration = -1
			
			}
		
		}
	
	}
	
	braavos_be_greatest_trading_nation = {
	
		icon = mission_war_chest
		ai = yes
		position = 6
		
		required_missions = {
		
			braavos_be_naval_superpower
			braavos_protect_new_aquisitions
		
		}
		
		trigger = {
			
			has_highest_trade_income = yes
		
		}
		
		effect = {
		
			add_country_modifier = {
			
				name = global_influences 
				
				duration = -1
			
			}
		
		}
	
	}

}

braavos_trade_westeros = {
	slot = 5
	generic = no
	ai = yes
	has_country_shield = yes
	
	potential = {
		
		# Be Braavos
		tag = U25
	}
	
	braavos_gain_foothold_in_westeros = {
	
		icon = mission_establish_high_seas_navy
		ai = yes
		position = 3
		
		required_missions = {
			braavos_expand_influence_in_essos
		}
		
		trigger = {
			
			custom_trigger_tooltip = {
			
				any_active_trade_node = {
				
					OR = {
						province_id = 62
						province_id = 126
						province_id = 149
						province_id = 108
						province_id = 226
						province_id = 320
						province_id = 352
					}
					trade_share = {
						country = ROOT
						share = 25
					}
					
				}

				tooltip = braavos_gain_foothold_in_westeros_trigger_TT
			
			}
			
		}
		
		effect = {
			
			custom_tooltip = braavos_gain_foothold_in_westeros_effect_TT
			
			country_event = {
				
				id = braavos.1			
			
			}
			
		}
	
	}
	
	braavos_have_trading_post_in_westeros = {
		
		icon = mission_high_income
		ai = yes
		position = 4
		
		required_missions = {
			braavos_gain_foothold_in_westeros
		}
		
		provinces_to_highlight = {
		
			continent = westeros
			has_port = yes
			development = 15
		
		}
		
		trigger = {
			
			westeros = {
				
				owned_by = U25
				development = 15
				has_port = yes
				
			}
		}
		
		effect = {
			
			custom_tooltip = braavos_have_trading_post_in_westeros_effect_TT
			
			hidden_effect = {
			
				if = {
						
					limit = { has_global_flag = braavos_chose_expand_the_north }
		
					areea_sheepshead_hills = {
					
						limit = {
							development = 15
							has_port = yes
						}
						
						add_base_tax = 2
						add_base_production = 2
						add_base_manpower = 1
						
						add_province_modifier = {
										
							name = braavosi_trading_post
							duration = -1
						
						}
					
					}
					
					area_white_harbor = {
					
						limit = {
							development = 15
							has_port = yes
						}
						
						add_base_tax = 2
						add_base_production = 2
						add_base_manpower = 1
						
						add_province_modifier = {
										
							name = braavosi_trading_post
							duration = -1
						
						}
					
					}
					
					area_moat_cailin = {
					
						limit = {
							development = 15
							has_port = yes
						}
						
						add_base_tax = 2
						add_base_production = 2
						add_base_manpower = 1
						
						add_province_modifier = {
										
							name = braavosi_trading_post
							duration = -1
						
						}
					
					}
						
				}
				
				if = {
				
					limit = { has_global_flag = braavos_chose_expand_the_vale }
					
					region_vale = {
					
						limit = {
							development = 15
							has_port = yes
						}
						
						add_base_tax = 2
						add_base_production = 2
						add_base_manpower = 1
						
						add_province_modifier = {
										
							name = braavosi_trading_post
							duration = -1
						
						}
					
					}
				
				}
				
				if = {
				
					limit = { has_global_flag = braavos_chose_expand_the_crownlands }
					
					region_crownlands = {
					
						limit = {
							development = 15
							has_port = yes
						}
						
						add_base_tax = 2
						add_base_production = 2
						add_base_manpower = 1
						
						add_province_modifier = {
										
							name = braavosi_trading_post
							duration = -1
						
						}
					
					}
				
				}
				
				if = {
				
					limit = { has_global_flag = braavos_chose_expand_the_stormlands }
					
					region_stormlands = {
					
						limit = {
							development = 15
							has_port = yes
						}
						
						add_base_tax = 2
						add_base_production = 2
						add_base_manpower = 1
						
						add_province_modifier = {
										
							name = braavosi_trading_post
							duration = -1
						
						}
					
					}
				
				}
				
				if = {
				
					limit = { has_global_flag = braavos_chose_expand_dorne }
					
					region_dorne = {
					
						limit = {
							development = 15
							has_port = yes
						}
						
						add_base_tax = 2
						add_base_production = 2
						add_base_manpower = 1
						
						add_province_modifier = {
										
							name = braavosi_trading_post
							duration = -1
						
						}
					
					}
				
				}
			
			}
			
		}
		
	}
	
	braavos_protect_new_aquisitions = {
		
		icon = mission_establish_high_seas_navy
		ai = yes
		position = 5
		
		required_missions = {
			braavos_have_trading_post_in_westeros
		}
		
		trigger = {
			
				light_ship_fraction = 0.5
			
		}
		
		effect = {
			
			add_country_modifier = {
				name = expanding_new_continent
				duration = -1
			}
			
		}
		
	}
	
}